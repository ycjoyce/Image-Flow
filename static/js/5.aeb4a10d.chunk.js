(this["webpackJsonpimage-flow"]=this["webpackJsonpimage-flow"]||[]).push([[5],{37:function(e,t,c){"use strict";var s,a=c(0),i=new Map,n=function(e){e.forEach((function(e){var t=e.isIntersecting,c=e.intersectionRatio,a=e.target,n=i.get(a);n&&(t||c>0)&&(s.unobserve(a),i.delete(a),n(t,c))}))};t.a=function(e,t){Object(a.useEffect)((function(){try{var c=e.current,a=(void 0===s&&(s=new IntersectionObserver(n,{threshold:.8})),s);return i.set(c,t),a.observe(c),function(){a.unobserve(c),i.delete(c)}}catch(r){}}),[t,e])}},39:function(e,t,c){"use strict";var s=c(42),a=c.n(s);t.a=a.a.create({baseURL:"https://api.unsplash.com/",headers:{Authorization:"Client-ID ".concat("fhbZ9QgPk1Wv5s8LU0XwqS9psSwfJlpGlAqHJUXxIxA")}})},40:function(e,t,c){"use strict";var s=c(33),a=c(0),i=c(51),n=c(37),r=c(1),u=function(e){var t=e.blur_hash,c=e.urls,u=e.description,o=e.thumb,l=void 0!==o&&o,j=Object(a.useState)(!1),d=Object(s.a)(j,2),b=d[0],h=d[1],m=Object(a.useState)(!1),O=Object(s.a)(m,2),f=O[0],g=O[1],p=Object(a.useRef)(null);return Object(n.a)(p,(function(){h(!0)})),Object(r.jsx)("div",{ref:p,style:{width:"100%",height:"100%",position:"absolute"},children:Object(r.jsxs)("div",{className:"image-renderer",children:[Object(r.jsx)("div",{className:"image-placeholder",style:{opacity:f?0:1},children:function(e){return e?Object(r.jsx)(i.a,{hash:e,width:"100%",height:"100%"}):Object(r.jsx)("div",{style:{background:"#eee",width:"100%",height:"100%"}})}(t)}),b&&Object(r.jsx)("img",{src:c[l?"thumb":"regular"],alt:u,className:"image",onLoad:function(){return g(!0)}})]})})};t.a=Object(a.memo)(u)},74:function(e,t,c){"use strict";c.r(t);var s=c(34),a=c(33),i=c(0),n=c(2),r=c(13),u=c(39),o=function(e){var t=Object(n.g)(),c=Object(i.useState)({status:"pending",data:!1}),s=Object(a.a)(c,2),r=s[0],o=s[1];return Object(i.useEffect)((function(){Object(u.a)("/photos/".concat(e)).then((function(e){o({status:"success",data:e.data})})).catch((function(e){o({status:e.response.status,data:!1})}))}),[e,t]),r},l=c(40),j=c(11),d=c(14),b=c(1);t.default=function(e){var t=e.alertMsg,c=void 0===t?"\u8d85\u904e\u9650\u5236\u8acb\u6c42\u6b21\u6578(50\u6b21/\u5c0f\u6642)\uff0c\u5c07\u5c0e\u56de\u9996\u9801":t,u=Object(n.g)(),h=Object(n.i)().id,m=Object(i.useState)(""),O=Object(a.a)(m,2),f=O[0],g=O[1],p=o(h),v=p.status,x=p.data;return Object(i.useEffect)((function(){var e;return"success"!==v&&"pending"!==v&&(g(c),e=setTimeout((function(){g(""),u.push("/")}),1500)),function(){return clearTimeout(e)}}),[x,v,u,c]),Object(b.jsx)(i.Fragment,{children:x?Object(b.jsx)(i.Fragment,{children:function(e){var t,c=e.description,a=e.alt_description,i=e.tags_preview,n=e.width,u=e.height;return Object(b.jsxs)("main",{className:"image-detail",children:[(c||a)&&Object(b.jsxs)("div",{className:"image-desc-list",children:[c&&Object(b.jsx)("p",{className:"image-desc-item main",children:c}),a&&Object(b.jsx)("p",{className:"image-desc-item sub",children:a})]}),i&&Object(b.jsx)("div",{className:"image-tag-list",children:(t=i,t.map((function(e){return Object(b.jsx)(r.b,{className:"image-tag-item",to:"/?q=".concat(e.title),children:e.title},e.title)})))}),Object(b.jsx)("div",{style:{width:"100%",paddingBottom:"".concat(u/n*100,"%"),position:"relative"},children:Object(b.jsx)(l.a,Object(s.a)({},e))})]})}(x)}):f?Object(b.jsx)(d.a,{children:Object(b.jsx)("p",{className:"mask-text text-white letter-spacing-lg",children:f})}):Object(b.jsx)(j.a,{})})}}}]);
//# sourceMappingURL=5.aeb4a10d.chunk.js.map